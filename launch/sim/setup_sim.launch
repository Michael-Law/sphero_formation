<launch>
	<!-- Set the arguments. -->
	<arg name="num" default="4"/>  <!-- Number of robots -->
	<arg name="map_name" default="across"/>  <!-- Name of the simulation map -->
	<arg name="map_world" default="$(find sphero_formation)/resources/sim/$(arg map_name)_$(arg num).world"/>
	<arg name="map_yaml" default="$(find sphero_formation)/resources/maps/$(arg map_name).yaml"/>

	<!-- Set number of robots as ros parameter so all nodes can access it. -->
	<param name="num_of_robots" type="int" value="$(arg num)"/>
	<!-- A sphere model used to represent Sphero robots -->
	<param name="robot_description" textfile="$(find sphero_formation)/resources/simple_ball.urdf"/>

	<!-- Start map server. -->
	<node pkg="map_server" type="map_server" args="$(arg map_yaml)" name="map_server"/>

	<!-- Start Stage simulator. -->
	<node pkg="stage_ros" type="stageros" name="simulator" args="$(arg map_world)"/>

	<!-- Start rqt_reconfigure GUI. -->
	<node pkg="rqt_reconfigure" type="rqt_reconfigure" name="rqt_reconfigure"/>

	<!-- Start dynamic reconfigure node. -->
	<node pkg="sphero_formation" type="dynamic_reconfigure_node.py" name="dyn_reconf" output="screen"/>

	<!-- Start rviz. -->
	<node pkg="rviz" type="rviz" name="rviz" args="-d $(find sphero_formation)/launch/sim/sphero_sim.rviz"/>
</launch>